@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix crdt: <https://w3id.org/solid-crdt-sync/vocab/crdt-mechanics#> .
@prefix sync: <https://w3id.org/solid-crdt-sync/vocab/sync#> .
@prefix solidsync: <https://w3id.org/solid-crdt-sync/vocab/solid#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix mappings: <https://w3id.org/solid-crdt-sync/mappings/> .

# Template for Client Installation Document (Solid-specific)
# Placeholders: {WEBID_URI}, {APP_ID}, {TIMESTAMP}, {INSTALLATION_URI}

<> a sync:ManagedDocument;
   foaf:primaryTopic <#installation>;
   sync:isGovernedBy ( mappings:client-installation-v1 );
   # Minimal clock ensures template participates in CRDT merging but loses tie-breaking
   crdt:hasClockEntry [
     crdt:installationId <{INSTALLATION_URI}>;
     crdt:logicalTime 1;
     crdt:physicalTime 0
   ] .

<#installation> a crdt:ClientInstallation;
   solidsync:belongsToWebID <{WEBID_URI}>;
   solidsync:solidOidcClientId <{APP_ID}>;
   crdt:createdAt "{TIMESTAMP}"^^xsd:dateTime;
   crdt:lastActiveAt "{TIMESTAMP}"^^xsd:dateTime;
   crdt:maxInactivityPeriod "P6M"^^xsd:duration .