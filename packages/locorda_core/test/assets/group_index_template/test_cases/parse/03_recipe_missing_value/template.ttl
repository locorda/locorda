@base <https://example.org/indices/> .
@prefix idx: <https://w3id.org/solid-crdt-sync/vocab/idx#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix schema: <https://schema.org/> .
@prefix : <#> .

# Multi-property grouping with missing value
# Indexes: Recipe
# Groups by: schema:keywords with default value "uncategorized"
:it a idx:GroupIndexTemplate ;
    idx:indexesClass schema:Recipe ;
    idx:shardingAlgorithm [
        a idx:ModuloHashSharding ;
        idx:hashAlgorithm "md5" ;
        idx:numberOfShards 1 ;
        idx:configVersion "1_0_0" ;
        idx:autoScaleThreshold 1000
    ] ;
    idx:groupedBy [
        a idx:GroupingRule ;
        idx:property [
            a idx:GroupingRuleProperty ;
            idx:sourceProperty schema:keywords ;
            idx:hierarchyLevel 1 ;
            idx:missingValue "uncategorized"
        ]
    ] ;
    idx:readBy <https://example.org/installations/test-789> .
